TODO: add validations for memory